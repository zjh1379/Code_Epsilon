# Epsilon Phase 3 规划讨论

## 【当前项目状态总结】

### ✅ 已完成功能（MVP + Phase 2）

#### MVP阶段
- ✅ LLM文本聊天（流式输出）
- ✅ GPT-SoVITS文本转语音集成
- ✅ 基础配置管理
- ✅ 对话历史管理（内存中）
- ✅ 默认TTS配置

#### Phase 2阶段
- ✅ 角色助手切换功能
  - Epsilon默认角色（不可编辑、不可删除）
  - 自定义角色创建、编辑、删除
  - 角色切换下拉框
  - System Prompt自动应用
- ✅ 流式语音输出
  - GPT-SoVITS流式模式集成（streaming_mode=2）
  - 音频chunk流式传输
  - 前端流式音频播放
- ✅ UI优化
  - 修复白色按钮/文字与背景冲突
  - 界面颜色优化

---

## 【Phase 3 候选方向】

### 方向1：长期记忆与知识图谱（GraphRAG）

**核心价值**：
- 让Epsilon"记住"用户的信息（项目、技能、偏好等）
- 对话中能够引用历史信息
- 构建用户的知识图谱（适合面试展示）

**主要功能**：
- 引入Neo4j图数据库
- 实体抽取（用户、项目、技能、话题等）
- 关系抽取（用户-项目、项目-技能等）
- 图查询和上下文拼接
- 知识图谱可视化（前端展示）

**技术栈**：
- Neo4j（图数据库）
- 实体抽取（LLM或NER模型）
- GraphRAG查询

**实施难度**：⭐⭐⭐（中等）
**用户价值**：⭐⭐⭐⭐⭐（高）
**优先级建议**：高

---

### 方向2：对话历史持久化

**核心价值**：
- 应用重启后保留对话历史
- 支持对话搜索和回顾
- 为长期记忆打基础

**主要功能**：
- 对话历史存储（SQLite/JSON文件）
- 对话搜索功能
- 对话导出/导入
- 对话分类和标签

**技术栈**：
- SQLite（轻量级数据库）
- 或JSON文件存储

**实施难度**：⭐⭐（低）
**用户价值**：⭐⭐⭐⭐（中高）
**优先级建议**：中高

---

### 方向3：多模态支持

**核心价值**：
- 支持图片输入和识别
- 支持文档上传和分析
- 扩展Epsilon的能力边界

**主要功能**：
- 图片上传和OCR
- 文档解析（PDF、Word等）
- 多模态LLM集成（如GPT-4V）
- 图像识别任务（结合你的图像识别项目）

**技术栈**：
- 多模态LLM API
- OCR库（Tesseract、PaddleOCR等）
- 文档解析库

**实施难度**：⭐⭐⭐⭐（较高）
**用户价值**：⭐⭐⭐⭐（高）
**优先级建议**：中（取决于你的具体需求）

---

### 方向4：高级角色功能

**核心价值**：
- 增强角色的个性和记忆
- 角色专属对话历史
- 角色情绪状态管理

**主要功能**：
- 角色专属记忆（每个角色独立的记忆系统）
- 角色情绪状态（基于对话内容）
- 角色成长系统（长期使用后的变化）
- 角色间对话（多角色协作）

**技术栈**：
- 记忆系统（结合方向1）
- 情绪分析（LLM或情感分析模型）

**实施难度**：⭐⭐⭐（中等）
**用户价值**：⭐⭐⭐⭐（高）
**优先级建议**：中（可以结合方向1一起做）

---

### 方向5：用户体验优化

**核心价值**：
- 提升交互体验
- 增加实用功能
- 优化性能

**主要功能**：
- 对话导出（Markdown、PDF）
- 快捷键支持
- 主题切换（深色/浅色）
- 响应式优化（移动端适配）
- 性能优化（缓存、懒加载）

**实施难度**：⭐⭐（低）
**用户价值**：⭐⭐⭐（中）
**优先级建议**：中低（可以穿插在其他阶段）

---

### 方向6：工具集成（MCP/Function Calling）

**核心价值**：
- 让Epsilon能够执行实际任务
- 集成外部工具和服务
- 增强实用性

**主要功能**：
- MCP协议集成
- Function Calling支持
- 工具管理界面
- 常用工具集成（文件操作、网络搜索等）

**技术栈**：
- MCP SDK
- Function Calling框架

**实施难度**：⭐⭐⭐⭐（较高）
**用户价值**：⭐⭐⭐⭐（高）
**优先级建议**：低（可以后续扩展）

---

## 【推荐方案：分阶段实施】

### Phase 3A：对话历史持久化（快速实现，1-2周）

**目标**：让对话历史能够保存和检索

**任务**：
1. 实现对话历史存储（SQLite）
2. 对话搜索功能
3. 对话导出功能
4. 为Phase 3B打基础

**价值**：
- 快速见效
- 为长期记忆做准备
- 提升用户体验

---

### Phase 3B：长期记忆与知识图谱（核心功能，2-3周）

**目标**：实现GraphRAG记忆系统

**任务**：
1. 引入Neo4j
2. 设计KG Schema（用户、项目、技能、话题等）
3. 实现实体抽取和写入
4. 实现图查询和上下文拼接
5. 知识图谱可视化（前端）

**价值**：
- 让Epsilon真正"记住"用户
- 适合面试展示
- 为未来扩展打基础

**参考**：之前讨论的《长期记忆与知识图谱_架构建议.md》

---

### Phase 3C：高级角色功能（可选，1-2周）

**目标**：增强角色个性

**任务**：
1. 角色专属记忆
2. 角色情绪状态
3. 角色成长系统

**价值**：
- 让角色更生动
- 增强用户粘性

---

## 【我的建议】

### 推荐路径：Phase 3A → Phase 3B

**理由**：
1. **Phase 3A（对话历史持久化）**：
   - 实施简单，快速见效
   - 为Phase 3B做准备
   - 用户立即受益

2. **Phase 3B（长期记忆与知识图谱）**：
   - 核心功能，差异化价值
   - 适合你的场景（求职、项目展示）
   - 可以展示知识图谱Demo

### 其他方向可以后续扩展

- **多模态支持**：如果图像识别项目需要，可以单独做
- **工具集成**：等核心功能稳定后再考虑
- **用户体验优化**：可以穿插在各个阶段

---

## 【需要你确认的问题】

1. **Phase 3的主要目标是什么？**
   - 长期记忆和知识图谱？
   - 对话历史持久化？
   - 多模态支持？
   - 其他？

2. **你的图像识别项目是否需要集成？**
   - 如果需要，多模态支持可以提前
   - 如果不需要，可以后续再做

3. **时间安排如何？**
   - 是否有时间限制？
   - 希望快速迭代还是深度开发？

4. **优先级排序**
   - 你最希望先实现哪个功能？
   - 哪些功能可以后续扩展？

---

## 【下一步行动】

请告诉我：
1. 你对Phase 3的期望和优先级
2. 是否有特定的功能需求
3. 时间安排和资源情况

我会根据你的反馈，生成详细的Phase 3开发提示词。

---

**文档版本**: v1.0
**创建时间**: 2025-01-XX

